                                APPS

O que Ã© um app no Django?

    . No Django, um app Ã© um mÃ³dulo (pacote de Python) que representa uma parte da aplicaÃ§Ã£o.

    . Cada app deve ter um propÃ³sito especÃ­fico.

    . Exemplo:

        - blog â†’ cuida de posts e comentÃ¡rios.

        - users â†’ cuida de cadastro e autenticaÃ§Ã£o.

        - store â†’ cuida de produtos e vendas.

O projeto Django Ã© um container principal (com as configuraÃ§Ãµes), e os apps sÃ£o os blocos 
funcionais que vocÃª encaixa nele.

                        Estrutura de um app

Quando vocÃª cria um app (python manage.py startapp blog), a estrutura gerada Ã©:

    auth/
    â”‚â”€â”€ admin.py        # Configura o admin do Django
    â”‚â”€â”€ apps.py         # ConfiguraÃ§Ã£o do app (nome, etc.)
    â”‚â”€â”€ migrations/     # HistÃ³rico das alteraÃ§Ãµes no banco
    â”‚â”€â”€ models.py       # Modelos (tabelas do banco)
    â”‚â”€â”€ tests.py        # Testes automatizados
    â”‚â”€â”€ views.py        # Controladores (lÃ³gica das pÃ¡ginas)
    â”‚â”€â”€ __init__.py     # Torna o diretÃ³rio um pacote Python

    VocÃª pode (e deve) criar tambÃ©m urls.py, forms.py, serializers.py, services.py etc., 
    conforme o app cresce.

                            Criando um app

Passo a passo:

    django-admin startproject myproject
    cd myproject
    python manage.py startapp auth

Agora, adicione o app em settings.py â†’ INSTALLED_APPS:

    INSTALLED_APPS = [
        "django.contrib.admin",
        "django.contrib.auth",
        "django.contrib.contenttypes",
        "django.contrib.sessions",
        "django.contrib.messages",
        "django.contrib.staticfiles",
        "auth",  # ğŸ‘ˆ registrando o app
    ]

                        Onde ficam as rotas de um app?

Um projeto pode ter urls globais (em myproject/urls.py) e urls locais (em cada app).

Exemplo em auth/urls.py:

    from django.urls import path
    from . import views

    urlpatterns = [
        path("", views.home, name="home"),
        path("posts/", views.posts, name="posts"),
    ]

E no myproject/urls.py vocÃª inclui o do app:

    from django.urls import path, include

    urlpatterns = [
        path("admin/", admin.site.urls),
        path("blog/", include("blog.urls")),  # ğŸ‘ˆ inclui urls do app
    ]

                            Views de um app

No views.py do app, vocÃª cria funÃ§Ãµes ou classes:

    from django.http import HttpResponse

    def home(request):
        return HttpResponse("Bem-vindo ao Blog!")

    def posts(request):
        return HttpResponse("Aqui estÃ£o os posts")

No inÃ­cio, usamos Function-Based Views (FBVs).

Em projetos maiores, usamos Class-Based Views (CBVs) ou atÃ© ViewSets (DRF).

                        Models dentro de um app

Cada app tem seus models (tabelas).

Exemplo (auth/models.py):

from django.db import models

    class Post(models.Model):
        username = models.CharField(max_length=200)
        email = models.EmailField()
        password = models.CharField(max_length=200)

        def __str__(self):
            return self.title

Rodando migraÃ§Ãµes:

    python manage.py makemigrations
    python manage.py migrate


Admin do app:

    Registrar models no admin.py do app (Exemplo):

        from django.contrib import admin
        from .models import Post

        @admin.register(Post)
        class PostAdmin(admin.ModelAdmin):
            list_display = ("username", "email")

    Agora o app jÃ¡ tem CRUD no Django Admin.


                    OrganizaÃ§Ã£o de mÃºltiplos apps

Regra de ouro: cada app deve ter responsabilidade Ãºnica.

    users â†’ autenticaÃ§Ã£o e perfis.

    blog â†’ posts e comentÃ¡rios.

    store â†’ catÃ¡logo e carrinho.

EX:

    myproject/
    â”‚â”€â”€ auth/
    â”‚â”€â”€ users/
    â”‚â”€â”€ store/
    â”‚â”€â”€ myproject/   # configuraÃ§Ãµes globais

Isso facilita manutenÃ§Ã£o, testes e atÃ© escalar para micro serviÃ§os.

                        ComunicaÃ§Ã£o entre apps

Ã€s vezes, um app precisa usar outro.

    Exemplo:

        auth tem autenticaÃ§Ã£o.

        users tem autores.

No auth/models.py:

    from django.contrib.auth.models import User
    from django.db import models

    class Post(models.Model):
        author = models.ForeignKey(User, on_delete=models.CASCADE)
        title = models.CharField(max_length=200)
        content = models.TextField()


                    Apps reutilizÃ¡veis (pacotes)

O Django incentiva criar apps que podem ser reutilizados em outros projetos.
Exemplo: um app comments pode ser usado em blog, fÃ³rum ou e-commerce.

    Estruture bem.

    Use namespaces em urls (app_name = "blog").

    Publique no PyPI se quiser compartilhar.

Boas prÃ¡ticas com apps:

    âœ… Um app = uma responsabilidade clara.
    âœ… Sempre crie urls.py no app, mesmo se for pequeno.
    âœ… Organize por camadas (models, views, forms, serializers, services).
    âœ… Use namespaces para evitar conflitos de urls.
    âœ… FaÃ§a testes (tests.py).
    âœ… Crie apps reutilizÃ¡veis.


                            EM NOSSO CÃ“DIGO

1Â°: Criar um app:

    django-admin startapp accounts

2Â°: Adicionar no INSTALLED_APPS:

    INSTALLED_APPS = [
        'django.contrib.admin',
        'django.contrib.auth',
        'django.contrib.contenttypes',
        'django.contrib.sessions',
        'django.contrib.messages',
        'django.contrib.staticfiles',
        # Rest Framework
        'rest_framework',
        'rest_framework_simplejwt.token_blacklist',  # opcional: para â€œlogoutâ€/revogaÃ§Ã£o
        # CORS
        "corsheaders",
        # Minhas apps
        'accounts'
    ]
